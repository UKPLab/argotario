<ion-modal-view ng-controller="ChooseUserController">

    <ion-header-bar class="bar-stable">
        <button class="button button-clear button-positive" ng-click="chooseUserModal.hide();">Cancel</button>

        <h1 class="title">Choose User</h1>
    </ion-header-bar>

    <ion-content delegate-handle="componentList">

        <ion-refresher pulling-text="Pull to refresh..." pulling-icon="ion-arrow-down-c" on-refresh="clickRefresh()"></ion-refresher>
        <ion-list>

            <div class="item item-input-inset">
                <label class="item-input-wrapper">
                    <i class="icon ion-ios7-search placeholder-icon"></i>
                    <input type="text" placeholder="Search User by Nickname" ng-model="search.query" ng-change="startSearch(search.query);"></input>
                </label>
                <button class="button button-clear button-stale" ng-click="clearSearch();">
                    Clear
                </button>
            </div>

            <arg-user-sublist users="results"></arg-user-sublist>


            <ion-item ng-if="search.query.length==0" class="item-divider">
                Most recent users how signed up
            </ion-item>

            <arg-user-sublist users="recentUsers" empty-label="No recent users" ng-hide="results.length>0"></arg-user-sublist>


        </ion-list>

        <div ng-show="results.length == 0 && recentArticles.length==0 || results.length==0 && search.query.length>0" class="empty-set">
            <p class="centered">No users<span ng-show="search.query.length>0">found for '{{ search.query }}'</span></p>
        </div>

    </ion-content>
</ion-modal-view>
